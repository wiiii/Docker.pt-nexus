# PT Nexus - PT 种子聚合管理平台

**PT Nexus** 是一款 PT 种子聚合管理平台，集 `下载器流量统计`、`铺种做种查询`、`多站点转种`、`本地做种文件检索` 于一体，大幅简化转种流程，提升 PT 站点管理效率。

- Wiki：https://ptn-wiki.sqing33.dpdns.org
- Github：https://github.com/sqing33/Docker.pt-nexus
- DockerHub：https://hub.docker.com/r/sqing33/pt-nexus

### 🏗️ 技术架构

- **前端**：Vue 3 + TypeScript + Element Plus，现代化响应式界面
- **后端**：Python Flask + Go + SQLite/MySQL/PostgreSQL，支持多数据库
- **代理服务**：内置盒子端 Go 代理服务，解决远程访问和网络延迟问题
- **部署方式**：Docker 容器化部署，支持环境变量配置

### 0. Bug 反馈

页面右上角有反馈按钮，点击后可提交 Bug 或功能建议。

![img](https://img1.pixhost.to/images/9728/655576982_d190f8fd-255e-4235-a6d3-39f35d334d46.png)

### 1. 流量统计

##### 📊 实时监控与历史分析

- **数据统计**：完整记录实时与历史速度、上传量下载量数据，支持通过曲线图直观查看特定时间段的速度波动趋势
- **智能数据聚合**：自动按小时、天、周、月等时间维度聚合流量数据
- **多下载器支持**：同时管理多个下载器，统一查看所有流量统计

##### 📈 可视化图表展示

- **交互式图表**：通过 ECharts 提供丰富的交互式图表展示
- **多时间范围**：支持今日、本周、本月、自定义时间范围的流量统计
- **数据切换**：可单独查看上传数据、下载数据或合并显示
- **实时更新**：支持实时速率开关，开启后每秒更新一次数据

### 2. 种子聚合管理

##### 🔍 统一视图整合

- **跨客户端聚合**：自动同步并聚合来自 `qBittorrent` 和 `Transmission` 的种子数据
- **完整信息展示**：展示种子名称、大小、进度、做种状态、做种站点、保存路径等详细信息
- **智能状态识别**：自动识别种子的下载状态、做种状态

##### 🏷️ 高级筛选与检索

- **多维度筛选**：支持按`站点`、`下载器`、`保存路径`、`状态`等进行组合筛选
- **路径树形筛选**：提供树形结构的保存路径筛选，支持多路径选择
- **关键词搜索**：可通过关键词搜索种子标题信息
- **智能筛选**：支持筛选不存在于特定站点的种子，便于转种操作

##### 🔗 智能跳转功能

- **详情页自动生成**：智能提取种子注释中的站点 URL 或种子 ID，结合预设的站点规则自动生成可直接点击的详情页链接
- **一键跳转**：支持直接跳转至对应 PT 站点的种子页面

### 3. 站点与官组统计

- **自动站点识别**：通过种子名称和注释自动识别种子所属的 PT 站点与官组
- **做种数据统计**：统计每个站点的做种数量、总做种体积，不同发布组的做种数量、做种体积

### 4. 智能转种系统

#### 🎯 种源站点管理

- **转种限制**：限制可转出种子的站点为有`自动种审`或`人工种审`的站点

#### 🔧 智能参数提取

- **多规则解析**：使用各类规则将源站点获取到的种子信息提取为标准化参数
- **标题组件解析**：智能解析种子标题的各个组件（主标题、季集、年份、版本等）
- **参数标准化**：将不同站点的参数格式统一为标准格式，便于跨站点转种
- **错误检测**：自动检测参数错误和缺失，提供修正建议

#### 🛠️ 自动参数修正

- **智能纠错**：通过脚本自动修正有误的内容，包括`标题错误`、`简介错误`、`截图丢失`等
- **内容增强**：自动补充缺失的 MediaInfo、截图、简介等内容
- **格式优化**：自动优化发布格式，符合目标站点的规范要求
- **质量检查**：转种前进行质量检查，确保参数准确性
- **豆瓣海报获取**：使用多种途径获取豆瓣海报并转存到pixhost图床（参考油猴“豆瓣海报转存pixhost”插件）

#### 🌐 站点参数映射

- **个性化适配**：发布脚本单独为每个站点做适配，兼容不同站点的发布格式与要求
- **参数降级**：支持参数降级策略，当目标站点不支持某些参数时自动降级

#### 📥 自动推送做种

- **即时推送**：发布成功后自动下载种子推送至下载器
- **智能校验**：qBittorrent 支持自动跳过校验

#### 🔄 种子处理

- **智能检测**：如遇到发布的种子已在目标站点存在但未在下载器做种，则自动下载已存在的种子推送到下载器做种
- **禁转检测**：当发现种子携带禁转标签或预设的不可互相转种的站点时，屏蔽掉相关种子的转种功能

### 5. 批量处理功能

- **批量获取**：支持批量获取种子数据，一次性处理多个种子
- **种子审查**：只有手动审查过种子无误才能使用批量转种功能
- **批量删除**：支持批量删除不需要的种子数据
- **进度监控**：实时监控批量处理进度，提供详细的状态反馈
- **详细记录**：完整记录每次批量转种的详细信息

### 6. 其他功能

- **文件本地文件检索**：支持本地做种文件的扫描，自动匹配本地文件与种子数据，查找出未做种的文件
- **IYUU API**：集成 IYUU 种子查询 API，查询铺种漏掉的种子，即可铺种但为做种的种子

---

# 更新日志

### v3.0.1（2025.11.08）

- 新增转种目标站点：longpt，天枢
- 修复：无法自动创建 tmp 目录的问题
- 修复：获取种子信息时报错未授权而卡在获取种子页面的问题
- 优化：豆瓣海报获取方案并转存到 pixhost 图床（参考油猴“豆瓣海报转存 pixhost”插件）
- 新增：从副标题提取“特效”标签

### v3.0.0（2025.11.01）

> **注：** 旧版本更新到 v3.0.0 版本因为数据库有很大变化，需要删除原来的数据库的所有表，然后代码会重新创建新的表，可以使用`docker run -p 8080:8080 adminer`进行修改。

- 转种源站点新增：
- 转种目标站点新增：
- 重构：整个转种流程更改为`源站点-标准参数-目标站点`三层架构，提高转种准确性
- 重构：使用数据库存储每个转过的种子参数，避免再次转种的时候重复获取
- 新增：批量发种，可以设置源站点优先级，批量获取种子详情，审查正确后可批量发种
- 新增：禁转标签检查，不可说往 ub 转种的禁转检查
- 新增：`PostgreSQL`支持
- 新增：自定义背景设置
- 新增：盒子端代理用于获取盒子上视频的信息录截图和 mediainfo 等信息，具体用法查看安装教程

### v2.2 转种测试版（2025.09.07）

- 转种目的站点新增 13City、垃圾堆、NovaHD
- 新增：weiui 登录认证
- 新增：做种信息页面站点筛选
- 新增：每个站点单独设置代理
- 新增：pixhost 图床设置代理
- 新增：转种完成后自动添加种子到下载器保种
- 新增：默认下载器设置，可选择源种子所在的下载器或者指定下载器
- 新增：种子信息中声明部分内容的过滤
- 新增：从 mediainfo 中提取信息映射标签
- 修复：4.6.x 版本 qb 无法提取种子详情页 url 的问题
- 重构：将转种功能从单独页面移动至种子查询页面内
- 新增：种子在站点已存在则直接下载种子推送至下载器做种
- 新增：前端首页显示下载器信息

### v2.1 转种测试版（2025.09.02）

- 转种源站点新增 Ubits、麒麟、自由农场、蟹黄堡、藏宝阁
- 修复：种子筛选页面 UI 问题
- 修复：先打开转种页面，再到种子页面转种时无法获取种子信息的问题
- 修复：cookiecloud 无法保存配置的问题
- 修复：同时上传下载时，速率图表查看仅上传的显示问题
- 新增：发种自动添加种子到 qb 跳过校验
- 新增：种子页面排序和筛选参数保存到配置文件
- 新增：转种添加源站选择
- 修改：转种页面添加支持站点提示与参数提示

### v2.0 转种测试版（2025.09.01）

- 新增：转种功能 demo，支持转种至 `财神`、`星陨阁`、`幸运`
- 新增：MediaInfo 自动判断与提取
- 新增：主标题提取与格式修改
- 新增：视频截图获取与上传图床
- 新增：转种功能多站点发布
- 新增：设置中的站点管理页面
- 重构：项目后端结构

### v1.2.1（2025.08.25）

- 适配更多站点的种子查询
- 修复：种子页面总上传量始终为 0 的问题
- 修复：站点信息页面 UI 问题

### v1.2（2025.08.25）

- 适配更多站点的种子查询
- 修改：种子查询页面为站点名称首字母排序
- 修改：站点筛选和路径筛选的 UI
- 新增：下载器实时速率开关，关闭则 1 分钟更新一次上传下载量（开启为每秒一次）
- 新增：下载器图表上传下载显示切换开关，可单独查看上传数据或下载数据
- 修复：速率图表图例数值显示不完全的问题
- 修复：站点信息页面表格在窗口变窄的情况下数据展示不完全的问题

### v1.1.1（2025.08.23）

- 适配：mysql

### v1.1（2025.08.23）

- 新增：设置页面，实现多下载器支持。

### v1.0（2025.08.19）

- 完成：下载统计、种子查询、站点信息查询功能。
